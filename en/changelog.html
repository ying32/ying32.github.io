<!DOCTYPE html>

<html lang="en-US">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="">
	<meta name="keywords" content="go gui golang goui govcl vcl lcl lazarus delphi">
	<meta name="author" content="不在乎y(ying32)">
  
	<title>GoVCL | What&#39;s new</title>

	
	<link href="//cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="/assets/css/docs.min.css" rel="stylesheet">

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
	  <script src="//cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
	  <script src="//cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
	<![endif]-->
 
	
	<link rel="apple-touch-icon" href="/assets/images/favicon.png">
	<link rel="icon" href="/assets/images/favicon.ico">

	
	<script src="//at.alicdn.com/t/font_1642113_j2x9dmrphv.js"></script>

	<script src="//cdn.jsdelivr.net/npm/jquery@1.11.1/dist/jquery.min.js"></script>

	
	<script src="//cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js"></script>
	<script src="/assets/js/docs.min.js"></script>

	
	<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/pace-progressbar@1.0.4/themes/orange/pace-theme-flash.css">
	<script src="//cdn.jsdelivr.net/npm/pace-progressbar@1.0.4/pace.min.js"></script>


	
	<link href="//cdn.jsdelivr.net/npm/highlight.js@9.15.10/styles/googlecode.css" rel="stylesheet">
	
	<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.css">



	<link href="/assets/css/style.css" rel="stylesheet">
	<script src="/assets/js/global.js"></script>
</head>
<body class="bs-docs-home">
  <a id="skippy" class="sr-only sr-only-focusable" href="https://github.com/ying32"><div class="container"><span class="skiplink-text">Skip to main content</span></div></a>


<header class="navbar navbar-static-top bs-docs-nav navbar-fixed-top" id="top">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="/en" class="navbar-brand" style="color:#d0cfdc;">GoVCL</a>
    </div>
    <nav id="bs-navbar" class="collapse navbar-collapse">
      <ul class="nav navbar-nav">
        <li>
		  
         
        </li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
		  <li><a href="/en/doc.html" onclick="_hmt.push(['_trackEvent', 'menubar', 'click', '文档'])">Chinese WIKI</a></li>
		  <li><a href="https://github.com/ying32/govcl/tree/master/samples" onclick="_hmt.push(['_trackEvent', 'menubar', 'click', '例子'])">Example</a></li>
		  <li><a href="/en/screenshot.html" onclick="_hmt.push(['_trackEvent', 'menubar', 'click', '截图'])">Screenshots</a></li>
		  <li><a href="/en/ideplugin.html" onclick="_hmt.push(['_trackEvent', 'menubar', 'click', 'IDE插件'])">IDE plugin</a></li>
		  <li><a href="/en/cases.html" onclick="_hmt.push(['_trackEvent', 'menubar', 'click', '案例'])"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-case"></use></svg> Developer case</a></li>
		  <li><a href="https://video.0-w.cc/videos/1" onclick="_hmt.push(['_trackEvent', 'menubar', 'click', '视频教程'])"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-video"></use></svg> Video tutorial(Unofficial)</a></li>

	    
		  <li class="dropdown">
			  <a data-toggle="dropdown" class="dropdown-toggle" href="#" aria-expanded="false">More projects <b class="caret"></b></a>
			  <ul role="menu" class="dropdown-menu" style="">
				
				  <li><a href="https://github.com/ying32/nim-vcl"  onclick="_hmt.push(['_trackEvent', 'menubar', 'click', 'nim-vcl'])" target="_blank">nim-vcl</a></li>
				  <li><a href="https://github.com/ying32/rust-vcl" onclick="_hmt.push(['_trackEvent', 'menubar', 'click', 'rust-vcl'])" target="_blank">rust-vcl</a></li>

				 

			  </ul>
		  </li>
		  <li class="dropdown">
			<a data-toggle="dropdown" class="dropdown-toggle" href="#" aria-expanded="false"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-language"></use></svg> Language<b class="caret"></b></a>
			<ul role="menu" class="dropdown-menu" style="">
			
			
				<li><a href="/changelog.html">简体中文</a></li>
			
				<li><a href="/en/changelog.html">English</a></li>
			
				
			</ul>
		  </li>
      </ul>
    </nav>
	  
  </div>
</header>




	
	  ﻿
<div class="container-fluid">
    <div class="row">
        <div class="col-md-6 col-md-offset-3 main">
            <h1 class="page-header">What&#39;s new</h1>
            <div class="row placeholders">
                <article class="markdown-body">
                    <style>
.goog-te-banner-frame {display: none;}
</style>
<p><strong>Choose your native language(Google Translate):</strong> <div id="google_translate_element"></div></p>
<h2 id="next-version-dev-branch">Next version, dev branch</h2>
<h2 id="next-v20x">next v2.0.x</h2>
<p>-- govcl --  </p>
<ul>
<li>增加：添加新的WINAPI: SHGetFileInfo及有关的结构和常量。</li>
</ul>
<p>-- liblcl --  </p>
<ul>
<li>修复：修复<code>TXButton</code>字体属性不生效问题。(<code>感谢群友 520</code>)</li>
<li>修复：修复TDateTime和TDate时间类型数据溢出问题。(<code>感谢群友 唔歌</code>) <a href="https://github.com/ying32/govcl/issues/61">#61</a>  </li>
</ul>
<p>-- res2go plugin --    </p>
<ul>
<li>增加：增加go1.16 <code>go:embed</code>支持。</li>
</ul>
<hr>
<h2 id="the-latest-release">The Latest release</h2>
<h2 id="v209">v2.0.9</h2>
<p>2021年1月6日   </p>
<p>-- govcl --  </p>
<ul>
<li>增加：<code>TGIFImage</code>、<code>TIcon</code>、<code>TJPEGImage</code>、<code>TPicture</code>、<code>TPngImage</code>、<code>TBitmap</code>、<code>TStringList</code>、<code>TStrings</code>增加<code>LoadFromBytes</code>方法，用于简化加载。</li>
<li>增加：<code>TForm</code>增加被动方法<code>CreateParams</code>，用于创建窗体时修改一些窗体信息，例子参见：<a href="https://github.com/ying32/govcl/tree/master/samples/Windows/createparams">createparams</a>。</li>
<li>修复：修复第三库richmemo在Windows下某些值溢出问题。</li>
</ul>
<p>-- res2go --    </p>
<ul>
<li>移除：正式移除已经标记为弃用的res2go命令行工具源码。</li>
</ul>
<h2 id="v208">v2.0.8</h2>
<p>2020年11月12日    </p>
<p>-- govcl --  </p>
<ul>
<li>修复：修复<code>事件id</code>在某些情况下会冲突，感谢<code>Qomos</code>。  </li>
<li>增加：<code>TColorBox</code>、<code>TComboBox</code>、<code>TDateTimePicker</code>增加<code>OnCloseUp</code>事件。</li>
<li>增加：<code>TRadioGroup</code>增加<code>OnSelectionChanged</code>事件。</li>
<li>恢复：恢复之前误删除的某些属性。</li>
</ul>
<p>-- res2go --    </p>
<ul>
<li>公开：正式对非QQ群员公开<a href="https://github.com/ying32/res2go-ide-plugin">res2go IDE插件源代码</a>，标志着res2go命令行工具正式废弃使用。 </li>
</ul>
<h2 id="v207">v2.0.7</h2>
<p>2020年9月30日     </p>
<p>-- govcl --  </p>
<ul>
<li>增加：<code>TClipboard</code>导出GetFormat方法。</li>
<li>修复：修复<code>TClipboard.AsText</code>超大字符串读取产生访问异常。</li>
</ul>
<h2 id="v2062">v2.0.6.2</h2>
<p>2020年8月28日   </p>
<p>-- govcl --  </p>
<ul>
<li>增加：vcl包添加全局变量<code>DEBUG</code>，默认为<code>false</code>，当从资源中构建Form发生错误时可以打印完整堆栈信息。</li>
<li>修复：修复liblcl在某些情况下事件的hash冲突，造成事件绑定错乱（感谢群友<code>ωｈī t é</code>提供的测试例子）。  </li>
</ul>
<p>-- res2go --    </p>
<h2 id="v206">v2.0.6</h2>
<p>2020年8月23日   </p>
<p>-- govcl --  </p>
<ul>
<li>限制：liblcl二进制要求&gt;=2.0.6。</li>
<li>添加：新的tag：<code>finalizerOn</code>默认不开启，开启后，非组件<code>Newxxx</code>之后无需手动调用<code>Free</code>（实验性）。</li>
<li>删除：<code>TCanvas</code>移除<code>TextRect3</code>方法，之后改用<code>TextRect2</code>替代。</li>
<li>修改：<code>TCanvas</code>修改<code>TextRect2</code>方法参数<code>text *string</code>-&gt; <code>text string</code>。</li>
<li>增加：<code>TImageButton</code>支持纵向排列的图片，优化内部绘制。</li>
<li>增加：<code>TClipboard</code>增加了<code>FindPictureFormatID</code>、<code>FindFormatID</code>、<code>GetAsHtml</code>、<code>SupportedFormats</code>、<code>HasFormatName</code>、<code>HasPictureFormat</code>、<code>SetAsHtml</code>，重构了<code>HasFormat</code>的实现，并调整了<code>Formats</code>的返回类型。</li>
<li>增加：<code>TImageList</code>增加了<code>StretchDraw</code>, <code>AddSliced</code>方法。</li>
<li>增加：所有继承自<code>TControl</code>的添加<code>AnchorSame</code>, <code>ScaleDesignToForm</code>, <code>ScaleFormToDesign</code>, <code>Scale96ToForm</code>, <code>ScaleFormTo96</code>, <code>Scale96ToFont</code>, <code>ScaleFontTo96</code>, <code>ScaleScreenToFont</code>, <code>ScaleFontToScreen</code>, <code>Scale96ToScreen</code>, <code>ScaleScreenTo96</code>, <code>AutoAdjustLayout</code>, <code>FixDesignFontsPPI</code>, <code>ScaleFontsPPI</code>方法。</li>
<li>增加：<code>TColorDialog</code>添加<code>CustomColors</code>属性。</li>
<li>增加：所有继承自<code>TWinControl</code>的组件添加<code>PaintTo</code>方法。</li>
<li>增加：<code>TForm</code>与<code>TFrame</code>增加<code>DesignTimePPI</code>属性。</li>
<li>增加：<code>TListView</code>添加新的方法：<code>GetHitTestInfoAt</code>, <code>GetItemAt</code>, <code>GetNearestItem</code>, <code>GetNextItem</code>，新的属性：<code>ColumnCount</code>。</li>
<li>增加：<code>TTreeView</code>添加新的方法：<code>GetHitTestInfoAt</code>。</li>
<li>删除：删除<code>memloaddll</code>例子及<code>amd64</code>下的代码。</li>
<li>修改：<code>listviewvirtualdata</code>例子，<code>OwnerData</code>为true时，Windows下增加模拟<code>CheckBox</code>功能。</li>
<li>修复：<code>gdiptest</code>例子增加绘制一个按钮并响应单击事件演示。</li>
<li>调整：调整TGraphic、TJPEGImage、TPngImage、TGIFImage、TBitmap、TIcon的基类为IGraphic。</li>
</ul>
<p>-- res2go --    </p>
<ul>
<li>增加：新的res2go-IDE插件，目前仅在群里测试，<a href="https://gitee.com/ying32/govcl/wikis/pages?sort_id=2645001&amp;doc_id=102420">使用说明</a>，后期会逐步废弃res2go命令行工具。</li>
</ul>
<hr>
<h2 id="v205">v2.0.5</h2>
<p>2020年7月27日   </p>
<p>-- govcl --  </p>
<ul>
<li>限制：要求最小liblcl二进制版为2.0.5。</li>
<li>添加：<code>TListView</code>、<code>TTreeView</code>、<code>TListItem</code>、<code>TTreeNode</code>添加一些新的方法和属性。  </li>
<li>修复：liblcl：修复<code>rtl.SysOpen</code>在Windows下包含中文时打开失败问题（<a href="https://github.com/ying32/govcl/issues/42">#42</a>）。</li>
<li>增加：添加一个simplecalc例子，主要用于另一种自动布局演示。</li>
<li>增加：<code>TListColumn</code>添加<code>SortIndicator</code>属性。</li>
<li>增加：<code>TMemo</code>添加<code>Append</code>方法。</li>
<li>删除：移除一些未使用的枚举、事件和类型定义。</li>
<li>增加：<code>TStringGrid</code>添加更多的属性和方法。演示例子：<code>grid/stringgrid2</code>。</li>
<li>删除：移除一些未使用的事件。</li>
<li>修改：修复一些事件参数不正确问题。</li>
<li>添加：<code>TStrings</code>和<code>TStringList</code>添加新的方法和属性：<code>AddStrings</code>, <code>AddStrings2</code>, <code>AddStrings3</code>, <code>AddPair</code>, <code>AddPair2</code>, <code>NameValueSeparator</code>。</li>
<li>添加：<code>vcl</code>包添加新的对话框函数：<code>PasswordBox</code>, <code>InputCombo</code>, <code>InputComboEx</code>。 </li>
<li>修改：<code>TStrings</code>和<code>TStringList</code>更改继承自<code>IStrings</code>，并修改所有与之相关的参数类型变更为<code>IStrings</code>。</li>
<li>修改：<code>TMemoryStream</code>更改继承自<code>IStream</code>，并修改所有与之相关的参数类型变更为<code>IStream</code>。</li>
<li>增加：<code>TComboBox</code>、<code>TColorBox</code>、<code>TDateTimePicker</code>、<code>TComboBoxEx</code>增加<code>OnDropDown</code>事件。  </li>
<li>增加：<code>TMonthCalendar</code>、<code>TDateTimePicker</code>添加了一些属性、方法和类型。</li>
</ul>
<p>-- res2go --    </p>
<ul>
<li>增加：添加一些新的<code>TStringGrid</code>事件。</li>
<li>增加：支持导出<code>OnDropDown</code>事件。</li>
<li>删除：删除选项：<code>outres</code>、<code>scale</code>、<code>pause</code>、<code>usestr</code>、<code>encrypt</code>、<code>outmain</code>。</li>
</ul>
<h2 id="v204">v2.0.4</h2>
<p>2020年7月10日   </p>
<p>-- govcl --  </p>
<ul>
<li>修改：liblcl：切换至Lazarus 2.0.10版本编译，<a href="https://wiki.lazarus.freepascal.org/Lazarus_2.0_fixes_branch#Fixes_for_2.0.10_.28merged.29">Fixes for 2.0.10</a> 。</li>
<li>限制：要求liblcl二进制版本&gt;=2.0.4</li>
<li>修复：修复新添加的组件未注册问题。 </li>
<li>修改：<code>TMovedEvent</code>事件由3个参数变更为4个参数，添加<code>isColumn</code>参数。</li>
<li>变更：<code>TStringGrid</code>和<code>TDrawGrid</code>移除<code>SetOnColumnMoved</code>和<code>SetOnRowMoved</code>方法，并添加新的方法：<code>SetOnColRowMoved</code></li>
<li>修改：更新liblcl事件回调。</li>
<li>添加：<code>TPrinter</code>添加<code>SetPrinter</code>方法。 </li>
<li>实现：Linux:Gtk2:TMiniWebview:支持<code>LoadHTML</code>和<code>ExecuteJS</code>方法。  </li>
<li>添加：添加新的包：<code>pkgs/wintaskbar</code>；添加新的例子：<code>windows/taskbar</code>。</li>
<li>修改：liblcl:Windows下使用LCL默认字体。 </li>
<li>增加：<code>vcl</code>包添加新的函数：<code>FindControl</code>,<code>FindLCLControl</code>,<code>FindOwnerControl</code>,<code>FindControlAtPosition</code>,<code>FindLCLWindow</code>,<code>FindDragTarget</code>。</li>
<li>迁移：移动liblcl源代码和makeCHeader工具到新的仓库：<a href="https://github.com/ying32/liblcl">https://github.com/ying32/liblcl</a></li>
<li>修改：重命名包名：multilang -&gt; i18n。</li>
<li>增加：<code>TForm</code>和<code>TScreen</code>增加<code>ActiveControl</code>属性。</li>
<li>增加：<code>TForm</code>、<code>TLabel</code>、<code>TStaticText</code>增加<code>FocusControl</code>属性。 </li>
<li>修改：<code>SelectDirectory2</code>参数变更，因为不再需要兼容Delphi。</li>
<li>移除：删除<code>TSelectDirExtOpt</code>类型及其枚举值，因为不再需要兼容Delphi。</li>
<li>移除：删除<code>TSelectDirExtOpts</code>类型，因为不再需要兼容Delphi。     </li>
<li>修改：<code>TTreeView</code>的折叠箭头使用LCL默认值。</li>
</ul>
<p>-- res2go --    </p>
<ul>
<li>增加：支持更多的事件。</li>
</ul>
<h2 id="v203">v2.0.3</h2>
<p>2020年6月22日   </p>
<p>-- govcl --  </p>
<ul>
<li>添加：TTreeView添加<code>AlphaSort</code>方法。</li>
<li>修复：修复一些枚举常量未导出问题。</li>
<li>添加：TRadioButton和TCheckBox添加OnChange事件。  </li>
<li>增加：<code>TMiniWebView</code>：<code>ExecuteScript</code>和<code>ExecuteJS</code>方法支持返回值。</li>
<li>增加：部分控件添加<code>Showing</code>属性。  </li>
<li>增加：<code>win</code>包中新添加一些Windows API、常量、类型。</li>
<li>删除：移除Application.SetFormScaled，使用原生的<code>Application.SetScaled</code>。</li>
<li>增加：添加Application.Handle和Application.SetHandle，仅Windows有效。</li>
<li>增加：添加一些其它接口。</li>
<li>增加：增加一个<code>Windows\nppPlugins</code>例子，主要测试在第三方程序中使用<code>govcl</code>的可行性。  </li>
<li>增加：添加一个生成liblcl C语言头文件工具（Tools/makeCHeader），并提供完整的c语言头文件，位于<code>Tools\makeCHeader\test\liblcl.h</code>，方便其他支持c的语言调用liblcl。</li>
<li>修改：macOS限制目标系统版本为10.8。</li>
<li>删除：移除TMessageEventg事件。</li>
<li>新增：新增控件：TCheckGroup、TToggleBox。</li>
<li>增加：更新liblcl源代码，预添加异常处理机制（未启用，主要是因为考虑到生成的dll文件大小会增加不少）。</li>
<li>替换：因为一些其他的原因，决定替换原来的<code>TGuage</code>组件内部为一个第三方的<code>TATGuage</code>，组件包：<a href="https://github.com/Alexey-T/ATFlatControls">ATFlatControls</a>。  </li>
<li>添加：添加工具<code>Tools/genbinres</code>，用于将<code>liblcl-x.x.x.zip</code>格式的liblcl预编译二进制生成<code>github.com/ying32/liblclbinres</code>包，以便将liblcl打包到可执行文件中。  </li>
<li>添加：添加编译约束指令<code>tempdll</code>，用于将liblcl打包到可执行文件中，然后运行时释放到临时目录中，<a href="https://gitee.com/ying32/govcl/wikis/pages?sort_id=2364531&amp;doc_id=102420">使用说明</a>。</li>
</ul>
<p>-- res2go --    </p>
<ul>
<li>修复：修复在非Windows系统下的控台中显示乱码问题。</li>
<li>修复：修复<code>-scale</code>选项。</li>
<li>增加：支持导出控件：TCheckGroup、TToggleBox。</li>
</ul>
<blockquote>
<p>注：res2go工具将不再提供预编译二进制了，可以自行编译，方法参考<code>Tools\res2go\src</code>中的<code>README.md</code>（不提供的原因：1、编译超简单。2、因为你要用到res2go，就说明你已经安装了Lazarus了，已经具备编译条件了。）。</p>
</blockquote>
<h2 id="v202">v2.0.2</h2>
<p>2020年5月15日   </p>
<p>-- govcl --  </p>
<ul>
<li>限制：当前版本限制<code>liblcl</code>二进制<code>最低</code>版本为<code>2.0.2</code>(因为liblcl中有改变)。  </li>
<li>添加：尝试添加一个<code>TRichEdit</code>组件（一个第三方组件，macOS下动态创建的还有问题，原因不明）。</li>
<li>添加：添加一个<code>richedit</code>例子。</li>
<li>删除：删除<code>pkgs/skinh</code>包，及相关例子，因为这个只能在Windows 32bit下使用，还是一个第三方的，效果也不好。</li>
<li>添加：补充一些<code>LCL控件</code>的属性，主要是原来<code>Delphi/VCL</code>控件没有的属性。</li>
<li>添加：添加新的组件：<code>TSelectDirectoryDialog</code>。</li>
<li>添加：添加所有基于<code>TControl</code>的控件属性：<code>AnchorSideLeft</code>、<code>AnchorSideTop</code>、<code>AnchorSideRight</code>、<code>AnchorSideBottom</code>、<code>ClientOrigin</code>、<code>ChildSizing</code>、<code>BorderSpacing</code>、<code>AnchorSide</code>。</li>
<li>添加：添加所有基于<code>TControl</code>的控件方法：<code>AnchorToNeighbour</code>、<code>AnchorParallel</code>、<code>AnchorHorizontalCenterTo</code>、<code>AnchorVerticalCenterTo</code>、<code>AnchorSame</code>、<code>AnchorAsAlign</code>、<code>AnchorClient</code>。</li>
<li>删除：移除所有基于<code>TControl</code>的控件属性：<code>Margins</code>，因为不再需要兼容<code>Delphi/VCL</code>了，用<code>BorderSpacing</code>属性替代即可。</li>
<li>改变：重命名工程<code>lcl.lpr</code>到<code>liblcl.lpr</code>。</li>
<li>添加：<code>IControl</code>添加一些属性和方法接口。</li>
<li>添加：添加一个<code>fileshelltree</code>例子（以树的形式显示当前目录及子目录）。</li>
<li>修改：修改导出的函数<code>DSynchronize</code>，当前是主线程时则不使用线程同步，而是直接调用。  </li>
<li>修改：当copyStr的strLen参数为0时直接返回空字符串(位于api包中)。</li>
<li>修复：修复一些控件在设计时状态下绘制不正确。</li>
<li>禁用：禁用<code>Application.CreateForm</code>的&quot;afterBindSubComponentsEvents&quot;，因为有冲突，感谢<code>cyanBone</code>。</li>
<li>修复：修复在macOS下因为Lazarus控件<code>GetTextLen</code>方法返回错误的长度(似乎返回的是一个Unicode UTF16的长度，正确的应该返回UTF-8的长度，而且只有macOS下才有)，感谢<code>cyanBone</code>。 </li>
<li>添加：<code>rtl</code>包中添加<code>MainThreadId</code>和<code>CurrentThradId</code>函数。</li>
<li>修复：修复<code>Windows</code>下<code>TMiniWebview</code>边距不正确。  </li>
<li>修复：调整并修复在某些情况下字符串内存被释放。</li>
</ul>
<blockquote>
<p>本次的更新会造成生成的可执行文件<code>增加1M</code>左右。</p>
</blockquote>
<p>-- res2go --    </p>
<h2 id="v201">v2.0.1</h2>
<p>2020年5月6日   </p>
<ul>
<li>修复：删除了go.mod文件，修复因为go.mod引起的不能拉取代码问题。</li>
</ul>
<h2 id="v200">v2.0.0</h2>
<p>2020年4月16日   </p>
<p>-- govcl --  </p>
<ul>
<li>移除：移除<code>Delphi/VCL</code>的支持，只专注<code>Lazarus/LCL</code>的跨平台方案。    </li>
<li>修复：修复一些类的构造函数参数缺失问题。    </li>
<li>修改：<code>vcl.RunApp</code>支持传入<code>func()</code>。    </li>
<li>添加：<code>rtl</code>包中<code>intf.go</code>添加一些与<code>SendMessage</code>或者<code>PostMessage</code>参数相关的函数。    </li>
<li>修复：修复<code>types</code>包中的<code>WPARAM</code>类型命名错误。    </li>
<li>修改：将所有枚举类型的值更改为lcl的。    </li>
<li>增加：<code>TListView</code>增加<code>OnDataHint</code>事件。</li>
<li>修改：<code>liblcl</code>源码使用<code>lazarus 2.0.8</code>编译，相关修复列表：<a href="https://wiki.freepascal.org/Lazarus_2.0_fixes_branch#Fixes_for_2.0.8_.28merged.29">Lazarus_2.0_fixes_branch</a>。</li>
</ul>
<blockquote>
<p>本次的更新会造成生成的可执行文件<code>减小2.7M</code>左右。</p>
</blockquote>
<p>-- res2go --    </p>
<ul>
<li><p>增加：增加<code>TSelectDirectoryDialog</code>导出。</p>
</li>
<li><p>修改：使用lazarus 2.0.8重新编译。</p>
</li>
</ul>
<h2 id="last-vcl-support分支last-vcl-support-branch">last-vcl-support分支(last-vcl-support branch)</h2>
<ul>
<li>修改：<code>vcl.RunApp</code>支持传入<code>func()</code>。    </li>
<li>添加：<code>rtl</code>包中<code>intf.go</code>添加一些与<code>SendMessage</code>或者<code>PostMessage</code>参数相关的函数。    </li>
<li>修复：修复<code>types</code>包中的<code>WPARAM</code>类型命名错误。    </li>
</ul>
<h2 id="v12102">v1.2.10.2</h2>
<p>2020年3月25日   </p>
<p>-- govcl --  </p>
<p><strong>最后一个支持<code>Delphi/VCL</code>的版本: <a href="https://github.com/ying32/govcl/tree/last-vcl-support/">last-vcl-support</a>。</strong>  </p>
<ul>
<li>添加：<code>Colors</code>包添加<code>RGB</code>和<code>RGBToBGR</code>函数。 </li>
<li>修改：<code>nswindowTest</code>例子增加直接使用<code>objective-c</code>操作<code>NSWindow</code>。  </li>
<li>添加：添加一个<code>winappres/uac</code>包，默认的资源。</li>
<li>添加：<code>win</code>包添加<code>ShellExecuteEx</code>和<code>RunAsAdministrator</code>函数和一些<code>ShellExecuteEx</code>所用到的常量和结构。</li>
<li>修复：修复<code>win.ResourceToBytes</code>的命名错误。</li>
<li>修改：当<code>As&lt;classname&gt;</code>转换时，不再先分配内存，如果类实例指针为0则返回nil，否则分配内存后再返回。</li>
<li>修改：自动绑定事件：过滤首字母不为&quot;A-Z&quot;的字段。</li>
</ul>
<p>-- res2go --   </p>
<h2 id="v1210">v1.2.10</h2>
<p>2020年3月20日   </p>
<p>-- govcl --  </p>
<ul>
<li>修改：liblcl：<code>TListView</code>、<code>TTreeView</code>一些默认属性修改，<code>ScrollBars</code>默认为<code>ssAutoBoth</code>。非Windows下TTreeView的<code>TreeLinePenStyle</code>默认值为<code>psSolid</code>。<code>TTreeView.ExpandSignType</code>默认为<code>tvestArrowFill</code>.。</li>
<li>修复：修复<code>macapp</code>打包时执行命令传入的参数会在某些时候不正确。  </li>
<li>修改：Linux下的<code>TMiniWebview</code>调用<code>Navigate</code>时不再设置控件焦点。  </li>
<li>修改：修改自动绑定事件当没有找到事件类型时，检测事件类型起始是否为“0-9,_”，如果是则不打印错误提示。  </li>
<li>增加：使用<a href="github.com/fogleman/gg">Go Graphics - 2D</a>绘制并显示到GoVCL的控件上，例子见<code>samples/drawusegg</code>，演示视频见<code>samples/drawusegg/video.mp4</code>。 </li>
<li>增加：使用<a href="https://github.com/disintegration/gift">Go Image Filtering Toolkit</a>处理图片滤镜并显示到GoVCL的控件上，例子见<code>samples/drawfilterusegift</code>，演示视频见<code>samples/drawfilterusegift/video.mp4</code>。 </li>
<li>增加：<code>TForm</code>增加<code>InheritedWndProc</code>方法，用于在<code>TForm</code>的<code>OnWndProc</code>中使用。</li>
<li>修改：改变<code>TForm</code>的<code>OnWndProc</code>回调函数，移除<code>handled</code>参数。 </li>
<li>增加：添加一个<code>vcl/bitmap</code>包，用于将Go的Image转为VCL/LCL的图像。 </li>
<li>增加：使用<a href="https://github.com/vdobler/chart">Charts for Go</a>绘制图表并显示到GoVCL的控件上，例子见<code>samples/drawchart</code>。 </li>
<li>增加：<code>types</code>包中添加新的类型<code>TSet</code>，并添加相关函数<code>NewSet</code>、方法<code>TSet.Include</code>、<code>TSet.Exclude</code>、<code>TSet.In</code>，如：<code>style := types.NewSet(types.xx)，style.Include(types.xxx)，style.In(types.xx)</code>。用于简化Delphi/Lazarus的集合操作，原来使用了的可能需要修改为新的方式。</li>
<li>丢弃：<code>rtl.Include</code>、<code>rtl.Exclude</code>、<code>rtl.InSets</code>标记为<code>Deprecated</code>。  </li>
<li>增加：添加<code>vcl/locales</code>包及默认的子包<code>zh_CN</code>用于本地化一些对话框内的文本(macOS下的有些暂时没办法，因为被写死了，所以不好翻译)。  </li>
<li>修改：修改<code>samples/menu</code>例子，增加在macOS下的Application菜单中添加项目。  </li>
<li>增加：<code>TBitmap</code>添加新的属性<code>TransparentMode</code>、<code>AlphaFormat</code>(仅libvcl)。</li>
<li>增加：添加一个<code>vcl.LclLoaded</code>函数。</li>
<li>增加：<code>vcl/bitmap</code>包添加新的函数<code>ToBitmap2</code>、<code>ToGoImage</code>。</li>
<li>增加：<code>TBitmap</code>添加<code>BeginUpdate</code>、<code>EndUpdate</code>和<code>Clear</code>方法(仅liblcl有效),<code>LoadFromDevice</code>。</li>
<li>修改：重构事件中ID的获取（主要是解决以前在某些情况下造成事件关联不对的问题）。</li>
<li>添加：所有对象添加<code>Is</code>，用于简化对象的判断，如：<code>button.Is().Control()</code>。</li>
<li>修改：所有对象都添加一个<code>As&lt;classname&gt;</code>函数，用于动态转换对象，如：<code>vcl.AsButton(sender)</code>。所有对象的<code>&lt;classname&gt;FromInst</code>, <code>&lt;classname&gt;FromObj</code>, <code>&lt;classname&gt;FromUnsafePointer</code>标记为弃用。</li>
<li>添加：<code>TStrings</code>和<code>TStringList</code>添加<code>S</code>和<code>SetS</code>用于简化原来的<code>Strings</code>和<code>SetStrings</code>方法。</li>
<li>修改：调整自动绑定事件，当不使用资源构TForm或者没有找到对应TForm资源时默认在创建完后绑定子组件事件。 </li>
<li>添加：liblcl：<code>TMiniwebview</code>初步支持Linux下的gtk3。</li>
<li>添加：<code>THeaderControl</code>添加<code>Sections</code>属性。 </li>
<li>添加：添加一些容器控件的<code>OnAlignPosition</code>事件，当子控件的<code>Align</code>属性为<code>AlCustom</code>时会触发父控件的<code>OnAlignPosition</code>事件，用法参见<code>samples/layout</code>。</li>
<li>添加：添加一个<code>samples/listboxcustomdraw2</code>，<code>TListBox</code>自绘演示。</li>
<li>添加：<code>TCheckListBox</code>、<code>TColorListBox</code>、<code>TListBox</code>控件添加<code>ItemAtPos</code>、<code>ItemRect</code>方法。</li>
<li>添加：添加<code>intfTest</code>例子，暂时只演示了跨平台的屏幕截图。</li>
<li>添加：添加<code>nswindowTest</code>例子，测试操作<code>NSWindow</code>，并演示一个macOS下的无标题栏样式窗口。</li>
<li>添加：添加一些平台相关的接口，比如：linux下获取<code>GdkWindow</code>，<code>GtkWidget</code>, <code>X11 Window Id</code>，macOS下<code>NSObject</code>，<code>NSWindow</code>。</li>
<li>移除：移除<code>GetGDKWindowXID</code>函数，改使用<code>TForm.PlatformWindow().XID()</code>。 </li>
<li>添加：添加一个新的控件<code>TXButton</code>，演示例子见<code>samples/xbuttonTest</code>。 </li>
</ul>
<blockquote>
<p>本次的更新会造成生成的可执行文件增大400+kb左右。</p>
</blockquote>
<p>-- res2go --    </p>
<h2 id="v129">v1.2.9</h2>
<p>2020年3月6日   </p>
<p>-- govcl --  </p>
<ul>
<li>增加：添加新的枚举类型:<code>TDefaultMonitor</code>。   </li>
<li>增加：<code>TForm</code>添加<code>DefaultMonitor</code>、<code>Monitor</code>属性。   </li>
<li>增加：改变事件id的获取。    </li>
<li>增加：vcl包添加一个<code>RunApp</code>函数用于简化main函数中创建Form对象，用法参见<code>samples/basicResForm</code>例子。   </li>
<li>增加：添加一个新的包<code>pkgs/libname</code>函数，用于加载指定位置的libvcl或者liblcl，用法参见<code>samples/customLibTest</code>例子。   </li>
<li>变更：<code>vcl/exts/macapp</code>包移至<code>pkgs/macapp</code>。</li>
<li>增加：<code>TCanvas</code>添加<code>Pixels</code>属性。   </li>
<li>增加：添加一个新的<code>drawrose</code>例子。  </li>
<li>修复：修复Windows下<code>TMiniWebview</code>在64位程序中不能设置IE版本。 </li>
<li>增加：<code>win</code>包中增加一个<code>GoPtrStr</code>函数。</li>
<li>变更：<code>vcl/samples/mp3Player/bass</code>包移到<code>pkgs/bass</code>。</li>
<li>变更：<code>vcl/samples/simplelibvlc/libvlc</code>包移到<code>pkgs/libvlc</code>。</li>
<li>变更：<code>vcl/exts/skinh</code>包移到<code>pkgs/skinh</code>。</li>
<li>变更：<code>vcl/exts/wke</code>包移到<code>pkgs/wke</code>。</li>
<li>变更：<code>vcl/exts/miniblink</code>包移到<code>pkgs/miniblink</code>。</li>
<li>变更：<code>vcl/exts/winappres</code>包移到<code>pkgs/winappres</code>。</li>
<li>变更：<code>vcl/exts/multilang</code>包移到<code>vcl/multilang</code>。</li>
</ul>
<p>-- res2go --   </p>
<ul>
<li>更新：更新<code>winappres</code>包路径。</li>
</ul>
<h2 id="v128">v1.2.8</h2>
<p>2020年3月3日   </p>
<p> -- govcl --    </p>
<ul>
<li>增加：liblcl：部分控件增加<code>ParentBackground</code>属性。  </li>
<li>修改：调整<code>liblvcl</code>、<code>liblcl</code>资源窗口构建部分。   </li>
<li>修改：<code>Application.CreateForm</code>方法今后不需要传入指定的字节数据了，<code>res2go</code>与<code>UI设计器</code>在保存时会添加注册相关的代码。  </li>
<li>移除：移除掉原来自己处理缩放相关（<code>vcl.Application.SetFormScaled</code>无效了，待我有2k显示器后再测试这个问题）。   </li>
<li>增加：liblcl：<code>TMiniWebview</code>初步支持Linux。  </li>
<li>增加：添加一个Windows下<code>listviewitemedit</code>例子，用于双击项目直接编辑数据。  </li>
<li>增加：<code>win</code>包：添加一些Windows下TListView API。  </li>
<li>增加：对<code>types</code>包中的一些类型定义增加了一些对应的方法函数。  </li>
<li>修改：调整go字符串与libvcl/liblcl交互的方式。  </li>
<li>增加：Windows下的<code>TMiniWebview</code>增加<code>SetIEVersion</code>、<code>GetIEVersion</code>方法，并更新MiniWebview例子。</li>
<li>增加：<code>rtl</code>包中增加了一些文件名相关的函数。  </li>
<li>尝试：尝试支持Windows 64位的内存dll加载模式（未解决）。 </li>
<li>增加：<code>TAction</code>和<code>TMenuItem</code>组件添加<code>AutoCheck</code>属性。 </li>
<li>增加：<code>TCanvas</code>增加<code>Polygon</code>、<code>Polyline</code>、<code>PolyBezier</code>、<code>PolyBezierTo(仅限libvcl)</code>方法。  </li>
<li>修改：<code>dylib</code>包移动到新的仓库<code>github/ying32/dylib</code>。   </li>
<li>修复：修复libvcl的<code>TMiniWebview</code>不响应按键事件。 </li>
<li>尝试：尝试解决windows下<code>liblcl TMiniWebview</code>不响应按键问题(未解决)。  </li>
<li>修改：liblcl：Windows下的<code>TTrayIcon</code>创建时，默认加载<code>Application</code>的Icon。  </li>
<li>增加：添加一个<code>vcl.RegisterFormResource</code>，用于<code>CreateForm</code>时自动查找对应资源。</li>
<li>增加：添加一个简易的markdown编辑器，用于演示。</li>
<li>增加：liblcl：<code>TFom</code>添加兼容Delphi的方法<code>ScaleForPPI</code>、<code>ScaleForCurrentDpi</code>。</li>
<li>增加：添加一个<code>formscale</code>例子。</li>
<li>增加：<code>Tools</code>目录下添加一个<code>libBuild</code>工具，用于命令行构建libvcl或者liblcl。</li>
<li>修改：<code>exts/tools</code>包更改为<code>exts/macapp</code>包，同时更新macapp里包的打包方式和添加app图标。</li>
<li>修改：Windows下<code>TMiniWebview</code>不再屏蔽右键和鼠标点击选择功能。 </li>
<li>增加：增加一个Windows下的<code>winappres</code>资源包，用于快速引用默认的syso文件。</li>
<li>增加：<code>Tools</code>目录下添加一个<code>LazarusPatch</code>工具，用于对Lazarus源代码打补丁，以兼容Delphi或者其他的。  </li>
<li>增加：<code>Tools</code>目录下添加一个<code>winRes</code>模板，用于生成windows下的syso文件。</li>
<li>增加：编译liblcl时添加<code>USED_BY_LAZLOGGER_DUMMY</code>指令用于屏蔽lcl的调试信息（似乎无效）。</li>
<li>增加：liblcl兼容Delphi资源中的TListView的<code>ItemData</code>和TTreeView的<code>NodeData</code>，需要使用<code>Tools/LazarusPatch</code>打补丁后重新编译。   </li>
<li>更改：启用新的GoVCL图标，图标设计来自<a href="https://www.freelogodesign.org/preview?lang=en&amp;name=GoVCL&amp;logo=2ffb4d90-2095-4daa-b334-389bbd40504c">Free Logo Design</a>。  </li>
</ul>
<p> -- res2go --   </p>
<ul>
<li>删除：移除<code>-outbytes</code>选项，总是为<code>True</code>。</li>
<li>增加：增加注册当前Form资源，用于自动加载。</li>
<li>修改：<code>-outres</code>参数改为添加一个<code>winappres</code>包。</li>
</ul>
<h2 id="v127">v1.2.7</h2>
<p>2020年1月20日   </p>
<p> -- govcl --  </p>
<ul>
<li><p>修复：修复go版本&gt;=1.13时，liblcl中字符串被GC回收问题。</p>
</li>
<li><p>修改：更新miniblink扩展包，测试x64基本没问题，但x86仍有会有错误框弹出。</p>
</li>
<li><p>修改：自动绑定事件中， TFrame的初始事件名称为OnFrameCreate。    </p>
</li>
<li><p>修复：liblcl：尝试修复MacOS下文本控件Text属性中文错误问题。   </p>
</li>
<li><p>修改：liblcl：切换至Lazarus 2.0.6版本编译，<a href="https://wiki.freepascal.org/Lazarus_2.0_fixes_branch#Fixes_for_2.0.6_.28merged.29">Fixes for 2.0.6</a>。   </p>
</li>
<li><p>调整：文本控件超大字符串获取问题。  </p>
<p>-- res2go --   </p>
</li>
<li><p>修复：修复TFrame可能转换不正确。   </p>
</li>
</ul>
<h2 id="v1264">v1.2.6.4</h2>
<p>2019年8月21日   </p>
<p> -- govcl --  </p>
<ul>
<li><p>删除：libvcl/liblcl：不再导出&quot;DGetParam&quot;函数，使用go原生获取。  </p>
</li>
<li><p>修改：libvcl/liblcl：&quot;SendEventSrc&quot;函数调整为最大支持12个参数，与导出的”MySyscall“函数支持参数个数保持一致。  </p>
</li>
<li><p>调整：govcl最低要求liblcl或者libvcl二进制版本为1.2.6。  </p>
</li>
<li><p>增加：添加支持Window 32位libvcl/liblcl内存加载方式。需要在编译命令中加入<code>-tags memorydll</code>标识，具体请参见gitee上的WIKI和例子。  </p>
</li>
<li><p>增加：添加一个Windows 32位下内存加载libvcl/liblcl示例：memloaddll。  </p>
</li>
<li><p>增加：添加一个TValueListEditor示例valuelisteditor。</p>
</li>
<li><p>增加：添加一个Windows下注册全局热键示例：registerHotKey。</p>
</li>
<li><p>增加：win包添加一些注册热键相关的常量与API。</p>
</li>
<li><p>增加：rtl包添加一个ShiftStateToWord函数。</p>
</li>
<li><p>增加：添加一个自绘时钟示例（见samples/clock示例）。</p>
</li>
<li><p>增加：新增TComboBoxEx、TFrame及相关类、属性、方法、事件。</p>
</li>
<li><p>调整：可从资源中加载TFrame（见samples/res2goTest/Test示例）。</p>
</li>
<li><p>增加：添加一个TComboBoxEx组件示例。</p>
</li>
<li><p>修复：修复部分控件 GetTextBuf、GetSelTextBuf不生效问题。</p>
</li>
<li><p>修复：修复部分控件的Text属性因为超大字符串造成内存访问错误。</p>
<p>-- res2go --  </p>
</li>
<li><p>增加：支持TComboBoxEx导出，添加默认构造方法。</p>
</li>
</ul>
<h2 id="v125">v1.2.5</h2>
<p>2019年7月1日   </p>
<p> -- govcl --  </p>
<ul>
<li><p>新增：增加一个listviewadv1例子。  </p>
</li>
<li><p>新增：liblcl：添加部分控件的“AddItem”方法。  </p>
</li>
<li><p>修复：liblcl：“TDateTime”时区问题。</p>
</li>
<li><p>新增：liblcl：支持“TCalendar”构建（实际为“TMonthCalendar”）。  </p>
</li>
<li><p>新增：libvcl：添加兼容Lazarus设计器的TCalendar类。</p>
</li>
<li><p>新增：liblcl：为所有继承自TControl的组件添加“Margins”属性。</p>
</li>
<li><p>新增：liblcl：添加兼容Delphi的“TMargins”类。</p>
</li>
<li><p>修改：独立vcl.ThreadSync的回调。 </p>
</li>
<li><p>修改：libvcl：使用SendMessage替代TThread.Synchronize，用来解决某些情况下异常问题，并保留原有方法并命名为vcl.ThreadSyncVcl。 </p>
</li>
<li><p>增加：新增一个扩展组件机制，在不修改原govcl代码的情况下扩展组件，演示例程为myext。</p>
<p>-- res2go --  </p>
</li>
<li><p>修复：遇到字符串的“+”符号时异常问题。</p>
</li>
<li><p>增加：支持liblcl“TCalendar”组件导出。 </p>
</li>
<li><p>修改：支持指定组件包名。</p>
</li>
</ul>
<h2 id="v124">v1.2.4</h2>
<p>2019年6月3日  </p>
<p> -- govcl --</p>
<ul>
<li><p>修复： Windows下liblcl某些控件不能正确应用Windows Theme问题。</p>
</li>
<li><p>新增：<code>win</code>包添加Windows API: <code>EnumWindows</code>、<code>EnumChildWindows</code>、<code>SetBkMode</code>以及一些Windows下ListView常量。。 </p>
</li>
<li><p>新增：添加一个simplelibvlc测试例程（已在Windows、MacOS、Linux Mint下测试通过，linux表现不佳）（主要测试可行性）。 </p>
</li>
<li><p>调整：由于sourceforge.net已经可以访问，liblcl macOS下的二进制已经由2.0.2编译。</p>
</li>
<li><p>新增：添加一个新包<code>floatpatch</code>：用于解决syscall不能返回浮点结果的问题（不支持arm）。 </p>
</li>
<li><p>修改：Windows下的libvcl和liblcl移除<code>TMiniWebView</code>的边框和鼠标右键支持。</p>
</li>
<li><p>新增：添加<code>GetGDKWindowXID</code>解决linux下获取控件的X11 ID。</p>
</li>
<li><p>新增：添加一个新例子：listviewadvcustomdraw。</p>
</li>
<li><p>新增：添加TForm的ShowInTaskBar属性(用来兼容Lazarus)。  </p>
</li>
<li><p>新增：Windows下的TMiniWebView添加ExecuteScript、ExecuteJS、LoadHTML方法及OnJSExternal事件，用法参考samples\miniwebview例子。 </p>
</li>
<li><p>新增：添加一个新的组件：TTaskDialog以及TTaskDialog对应例子samples\taskdialog。</p>
</li>
<li><p>修改：进一步完善macOS下TMiniWebview组件并移除carbon支持。</p>
</li>
<li><p>重要：不再提供macOS 32位的预编译二进制liblcl.dylib了，如有需要可自行编译。</p>
<p>-- res2go --</p>
</li>
<li><p>修复：res2go内存访问错误。</p>
</li>
<li><p>调整：提前<code>-outres</code>参数语句</p>
</li>
<li><p>调整：加载dfm、lfm、lpr、dpr文件访问dpr文件访问模式。</p>
</li>
<li><p>增加：支持导出TTaskDialog。</p>
</li>
</ul>
<h2 id="v123">v1.2.3</h2>
<p>2019年5月13日  </p>
<p> -- govcl --</p>
<ul>
<li><p>liblcl添加TApplication.RestoreTopMosts方法，用来兼容libvcl。</p>
</li>
<li><p>自动绑定事件中，如果组件不支持某个事件则打印提示。</p>
</li>
<li><p>&quot;liblcl&quot;源码更新至Lazarus 2.0版本LCL库，<a href="http://wiki.lazarus.freepascal.org/Lazarus_2.0.0_release_notes">Lazarus_2.0.0_release_notes</a>、<a href="http://wiki.freepascal.org/Lazarus_2.0_fixes_branch">Lazarus_2.0_fixes_branch</a>。</p>
</li>
<li><p>添加一些TTreeView常量和结构。</p>
</li>
<li><p>TListView的TListItem添加ListView属性。</p>
</li>
<li><p>TTreeView的TNodeItem添加TreeView属性。</p>
</li>
<li><p>添加一个treeview_checkbox例程，只适合用Windows。</p>
</li>
<li><p>添加一个pagecontrolwizard演示例程(macOS和linux有bug)。</p>
</li>
<li><p>调整Windows下dll搜索，当exe目录下有符合条件的liblcl.dll则优先加载。</p>
</li>
<li><p>liblcl源代码已经采用<a href="https://forum.lazarus.freepascal.org/index.php/topic,45062.0.html?PHPSESSID=mgrsgl8c6kvr6hbr4v5rc1hrf0">Lazarus2.0.2</a>编译</p>
</li>
<li><p>macOS下的liblcl现在提供cocoa 64位的dylib</p>
<p>-- res2go --</p>
</li>
<li><p>添加“-pkgname”选项。用于生成的Form相关的go文件包名，不包括main.go文件。</p>
</li>
<li><p>添加“-watch”参数，用于监视“-path”目录的文件改变，并自动转换。</p>
</li>
</ul>
<h2 id="v122">v1.2.2</h2>
<p>2018年12月1日  </p>
<p> -- govcl --</p>
<ul>
<li><p>自动绑定事件增加：当“afterBindSubComponentsEvents=true”时自动设置组件的名称。 </p>
</li>
<li><p>libvcl: TThumbBarButton增加ButtonState属性。</p>
</li>
<li><p>更加完善的mp3Player例子。 </p>
</li>
<li><p>增加vcl.SelectDirectory3函数，用于简化vcl.SelectDirectory2函数。 </p>
</li>
<li><p>添加“rtl.LibStringEncoding”和“rtl.LibVersion”两个函数，用于获取当前库信息。 </p>
</li>
<li><p>修复“multilang”包，当前可执行文件目录不存在“Langs”目录时程序崩溃的错误。  </p>
</li>
<li><p>多国语言支持TStrings类型本地化，例如：TComboBox.Items、TListBox.Items。  </p>
</li>
<li><p>添加新的jsonToGo、jsonViewer例子。</p>
<ul>
<li>jsonToGo是用于将一段json数据转为Go的结构，以方便json.Unmarshal填充。</li>
<li>jsonViewer是用于将一段json数据以树的形式显示</li>
</ul>
</li>
<li><p>添加一些剪切板格式常量。</p>
<p>-- res2go --</p>
</li>
<li><p>添加“-pause”选项。主要用于集成在IDE内的。选项说明：结束后根据选项暂停，比如： -pause &quot;ew&quot;，表示有错或者警告，可选为“e”,“w”,“a” e=错误，w=警告，a=忽略其它选项，总是显示。  </p>
</li>
<li><p>添加支持Delphi编译，已经测试在Delphi 10.3 社区版编译通过，并简单测试转换结果。  </p>
</li>
<li><p>根据“.lpr”或“.dpr”文件中的内容动态删减“main.go”中“vcl.Application.CreateForm”。 </p>
</li>
</ul>
<h2 id="v121">v1.2.1</h2>
<p>2018年11月20日    </p>
<p> -- govcl --  </p>
<ul>
<li>govcl增加的“arm”编译约束。</li>
<li>liblcl类补丁，兼容Delphi。</li>
<li>添加linux下获取当前系统语言。</li>
<li>win包添加新的winapi: SetForegroundWindow</li>
<li>libvcl库添加新的png解码器“TPortableNetworkGraphic”，用来兼容liblcl。</li>
<li>使用新的“hash”函数传递事件回调ID，解决上下文信息丢失问题。</li>
<li>修改liblcl窗口默认宽度=678和高度=321。</li>
<li>api包中不再直接公开eventCallbackMap、messageCallbackMap两个变量，并使用EventCallbackOf、MessageCallbackOf替代。</li>
<li>api包DSynchronize函数，当执行完后删除事件ID。</li>
<li>重构“事件关联”功能。</li>
<li>“事件关联”增加tag字段用于res2go共享事件，支持多个事件共享。</li>
<li>rtl包添加一个&quot;IsNil&quot;函数，用于判断interface{}为空。</li>
<li>libvcl与liblcl移除TGoEvent类型，改用方法地址替代TGoEvent 。</li>
<li>libvcl修改AllowDropFiles属性read方法不再使用变量。并修复样式改变的情况下失效问题。</li>
<li>liblcl使用宏简化事件代码。</li>
<li>添加一个新的TMiniWebview组件，支持liblcl/libvcl 32bit/64bit,  macOS32/cocoa接口。</li>
<li>调整exts/tools包中mactool，如果存在则复制$GOPATH/bin/liblcl.dylib至当前可执行文件目录。</li>
<li>liblcl:修复TCanvas.TextRect2。</li>
<li>添加新方法：TCanvas.TextRect3。</li>
<li>liblcl: TStringGrid、TDrawGrid、TValueListEditor添加OnDrawCell事件。</li>
<li>添加新枚举类型TGridOptionLz，用于liblcl库Grid控件Options属性。因为无法兼容Delphi。</li>
<li>添加一个新的drawgrid例子，见samples/grids/drawgrid。 </li>
<li>在非Windows下“LazyProc”的Find方法增加互斥锁。  </li>
<li>所有libvcl源代码文件编码变更为UTF-8。     </li>
<li>TApplication.CreateForm参数变化，详细参考注释。    </li>
<li>正式移除标记为丢弃的方法: TApplication.CreateFormFromFile、TApplication.CreateFormFromStream、TApplication.CreateFormFromBytes。    </li>
</ul>
<hr>
<p> -- res2go --      </p>
<ul>
<li>添加linux和macOS编译配置。      </li>
<li>修改：检查到不支持的组件后直接停止当前文件转换。      </li>
<li>添加检测环境变量“LANG”判断是否为中文系统。      </li>
<li>修复“-outbytes”选项保存时太慢的问题。      </li>
<li>修复没有“-outbytes”选项时不保存gfm文件问题。      </li>
<li>添加新选项“-usestr，默认为true”。      </li>
<li>增加支持共享事件导出（支持多个事件，见res2goTest例程）。      </li>
<li>添加新选项-origfn，生成的.go文件使用原始的delphi/lazarus单元名，默认为false。      </li>
<li>移除“-gui”选项。    </li>
<li>修改：“-encrypt”默认为false。    </li>
<li>更新res2go二进制，并添加res2go macOS二进制。    </li>
</ul>
<hr>
<h2 id="v120">v1.2.0</h2>
<p> 2018年11月5日  </p>
<ul>
<li>修复liblcl在linux和macOS下在协程中使用vcl.ShowMessage或其它模态窗口时应用程序崩溃问题。bug提交来源于issues #14。      </li>
<li>限制govcl最要低要求go1.9.0；     </li>
<li>res2go增加新的选项“-outbytes”。     </li>
<li>res2go添加新特性, 私有字段，详见“res2goTest”例子。    </li>
<li>修复了xunleidownloader例子中的bug。    </li>
<li>多国语言包修改：&quot;RegisterLibResouces&quot;的调用移至包内init函数，以后不再需要手动注册了并移除“RegisterLibResouces”函数。    </li>
<li>“api.DSynchronize”增加互斥锁。防止多个go协程更新造成崩溃问题。    </li>
<li>res2go说明中增加集成到Delphi/Lazarus IDE的方法。    </li>
<li>res2go “输入”、“输出”默认目录使用相对路径。    </li>
<li>添加新组件：TSpinEdit。并更新stdcontrols例程用于演示新组件。    </li>
<li>“win”包增加资源相关的api和类型。    </li>
<li>res2go添加支持“TSpinEdit”组件导出。    </li>
<li>增加窗口的消息捕获事件“OnWndProc”。用法例子见“messageTest”。     </li>
<li>添加一个新的“message”包，里面包含windows消息常量（linux、MacOS也可用）和VCL消息常量。用法例子见“messageTest”。     </li>
<li>“win”包增加新api&quot;GetModuleFileNameExW&quot;。     </li>
<li>更新windowsProcess和multilanguage例程。    </li>
<li>更新go编译约束。 </li>
</ul>
<hr>
<h2 id="for-earlier-logs-please-check-git-commit">For earlier logs, please check git commit</h2>
<script>
    function googleTranslateElementInit() {
        new google.translate.TranslateElement({
            pageLanguage : 'zh-CN',
            autoDisplay : true,
            gaTrack : true,
            layout : google.translate.TranslateElement.InlineLayout.SIMPLE
        }, 'google_translate_element');
    }
</script> 
<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script> 

                </article>
            </div>
        </div>
    </div>
</div>
	





<footer class="bs-docs-footer">
  <div class="container" align="center">
    <ul class="bs-docs-footer-links">
      <li><a href="https://github.com/ying32/govcl" target="_blank" rel="nofollow">GitHub repository</a></li>
	  <li><a href="https://gitee.com/ying32/govcl" target="_blank" rel="nofollow">Gitee repository</a></li>
      <li><a href="https://github.com/ying32/govcl/tree/master/samples" target="_blank" rel="nofollow">Example</a></li>
      <li><a href="/en/about.html" rel="nofollow">About</a></li>
        
	  <li><svg class="icon" aria-hidden="true"><use xlink:href="#icon-sponsor"></use></svg> <a href="/en/sponsor.html" rel="nofollow" >Sponsor GoVCL</a></li>
        
    </ul>
    <p>&copy; 2017 - 2021 <a href="/">z-kit.cc</a> Apache License 2.0 </p>
	<p style="padding-top:10px;">
       <a href="https://github.com/twbs/bootstrap"  target="_blank" rel="nofollow">Bootstrap</a> |
       <a href="https://getbootstrap.com/"  target="_blank" rel="nofollow">Bootstrap Docs</a> | 
	   <a href="https://pages.github.com/" target="_blank" rel="nofollow">Github Page</a> | 
       <a href="https://www.iconfont.cn/"  target="_blank" rel="nofollow">Ali Iconfont</a> |
       <a href="https://www.freelogodesign.org/preview?lang=en&name=GoVCL&logo=2ffb4d90-2095-4daa-b334-389bbd40504c" target="_blank" rel="nofollow">Free logo design</a>
    </p>
  </div>
</footer>







  

  

<script>
  var _hmt = _hmt || [];
  (function() {
	  var hm = document.createElement("script");
	  hm.src = "https://hm.baidu.com/hm.js?b6973b608db91f0c31a5458b10dc3517";
	  var s = document.getElementsByTagName("script")[0];
	  s.parentNode.insertBefore(hm, s);
  })();
</script>

</body>
</html>